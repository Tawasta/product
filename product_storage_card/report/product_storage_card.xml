<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <report
        id="product_storage_card_report"
        string="Storage Card (PDF)"
        model="product.product"
        report_type="qweb-pdf"
        name="product_storage_card.product_storage_card_pdf"
        file="product_storage_card.product_storage_card_pdf"
        />

    <report
        id="product_storage_card_report"
        string="Storage Card (PDF)"
        model="product.template"
        report_type="qweb-pdf"
        name="product_storage_card.product_storage_card_pdf"
        file="product_storage_card.product_storage_card_pdf"
        />

    <!-- PDF -->
    <template id="product_storage_card_pdf">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="product_storage_card.product_storage_card_document"></t>
                </t>
            </t>
        </t>
    </template>

    <template id="product_storage_card_document">
        <table class="product_storage_card">
            <thead></thead>
            <tbody>
                <tr>
                    <td colspan="1" class="card_bg">
                        ID
                    </td>
                    <td colspan="2">
                        <t t-esc="doc.default_code"></t>
                    </td>
                    <td colspan="1" class="card_bg">
                        Code
                    </td>
                    <td colspan="2">
                        <t t-if="doc.barcode">
                            <img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('EAN13', doc.barcode, 600, 150)"
                                style="width: 100%; height: 50px;"/>
                            <t t-esc="doc.barcode"></t>
                        </t>
                    </td>
                </tr>

                <tr>
                    <td colspan="1" class="card_bg">
                        Name
                    </td>
                    <td colspan="5">
                        <t t-if="doc.name">
                            <t t-esc="doc.name"></t>
                        </t>
                    </td>
                </tr>

                <tr>
                    <td colspan="1" class="card_bg">
                        Storage location
                    </td>
                    <td colspan="5">
                        <t t-if="doc.property_stock_inventory.complete_name">
                            <t t-esc="doc.property_stock_inventory.complete_name"></t>
                        </t>
                    </td>
                </tr>

                <tr>
                    <td colspan="1" class="card_bg">
                        Alert limit
                    </td>
                    <td>
                        <t t-if="doc.reordering_min_qty">
                            <t t-esc="doc.reordering_min_qty"></t>
                        </t>
                    </td>
                    <td colspan="1" class="card_bg">
                        Order quantity
                    </td>
                    <td>
                    </td>
                    <td colspan="1" class="card_bg">
                        Delivery time
                    </td>
                    <td>
                    </td>
                </tr>

                <tr>
                    <td colspan="1" class="card_bg">
                        Vendor
                    </td>
                    <td colspan="5">
                        <t t-foreach="doc.seller_ids" t-as="seller">
                            <t t-esc="seller.name.name"></t>
                        </t>
                    </td>
                </tr>

                <tr>
                    <td colspan="1" class="card_bg">
                        Vendor product name
                    </td>
                    <td colspan="5">
                        <t t-foreach="doc.seller_ids" t-as="seller">
                            <t t-esc="seller.product_name"></t>
                        </t>
                    </td>
                </tr>

                <tr>
                    <td colspan="1" class="card_bg">
                        Vendor product code
                    </td>
                    <td colspan="5">
                        <t t-foreach="doc.seller_ids" t-as="seller">
                            <t t-esc="seller.product_code"></t>
                        </t>
                    </td>
                </tr>
            </tbody>
        </table>
    </template>
</odoo>
